{% extends "layout.html"%} {%block css%}
<link rel="stylesheet" href="../static/css/new_analyse.css">
<link rel="stylesheet" href="../static/css/bootstrap-toggle.min.css">
<script src="../static/js/bootstrap-toggle.min.js"></script> {%endblock%} {%block content%}

<div class="card">
    <div id="SetupHeader" class="card-header">
        <h2>Setup</h2>
        <div class="flex-container mt-2">
            <button id="collapse_setup_button" class="collapse-button" data-toggle="collapse" data-target="#SetupContent"><i class="far fa-plus-square"></i></button>
            <input id="setup_toggle" type="checkbox" checked data-toggle="toggle" data-on="New" data-off="Existing" data-onstyle="primary" data-offstyle="secondary">
            <input id="setup_name" type="text" class="form-control normal-margin col-2">
            <datalist id="setups_datalist"></datalist>
            <h4 class="ml-4" id="curr_setup_name"></h4>
            <div id="statistics_text" class="row statistics-div col-5 normal-margin">
                0 functions on 0 runs : 0 tests
            </div>
            <button id="run_setup_button" class="btn btn-primary normal-margin run-button">
                Run
            </button>
        </div>
    </div>


    <div id="SetupContent" class="collapse card-body">
        <div class="row ml-3 mb-3">
            <h3 class="">setup content</h3>
            <div class="action-buttons ml-auto mr-4 row">
                <button id="save_setup" aria-label="Save"><i class="far fa-save normal-size" ></i></button>
                <button id="duplicate_setup"><i class="far fa-file-alt adapt-icon-size"></i></button>
                <button id="delete_setup"><i class="far fa-trash-alt adapt-icon-size"></i></button>
            </div>
        </div>

        <ul class="nav nav-tabs">
            <li class="nav-item">
                <button id="functions_tab" class="nav-link active"><i class="fas fa-keyboard"></i>&nbsp;Functions</button>
            </li>
            <li class="nav-item">
                <button id="groups_tab" class="nav-link"><i class="fas fa-clipboard-list"></i>&nbsp;Groups</button>
            </li>
            <li class="nav-item">
                <button id="runs_tab" class="nav-link"><i class="fas fa-running"></i>&nbsp;Runs</button>
            </li>
            <li class="nav-item">
                <button id="lists_tab" class="nav-link"><i class="fas fa-list-ol"></i>&nbsp;Lists</button>
            </li>
        </ul>
        <div class="content-flex-container">
            <div id="functions_table_div" class="col-6">
                <table id="functions_table" class="table table-striped table-bordered" style="width:100%">
                </table>
            </div>
            <div id="groups_table_div" class="col-6" hidden="hidden">
                <table id="groups_table" class="table table-striped table-bordered" style="width:100%">
                </table>
            </div>
            <div id="lists_table_div" class="col-6" hidden="hidden">
                <table id="lists_table" class="table table-striped table-bordered" style="width:100%">
                </table>
            </div>
            <div id="runs_table_div" class="col-6" hidden="hidden">
                <div class="flex-container my-4">
                    <label for="database_select" class="mr-2">Select a DB</label>
                    <select name="" id="database_select" class="form-control col-2">
                    </select>
                </div>
                <table id="runs_table" class="table table-striped table-bordered" style="width:100%">
                </table>
            </div>
            <div class="table-controls-div">
                <button id="select_all_button" class="fas-button mb-4" data-toggle="tooltip" data-placement="bottom" title="Select All"><i class="far fa-calendar-check"></i></button>
                <button id="remove_selection_button" class="fas-button my-2" data-toggle="tooltip" data-placement="bottom" title="Remove selections"><i class="far fa-calendar-times"></i></button>
                <button id="add_selected_button" class="fas-button mt-4"><i class="fa fa-chevron-circle-right" data-toggle="tooltip" data-placement="bottom" title="Add to chosen"></i></button>
            </div>
            <div class="col-6 content-flex-container">

                <div class="">
                    <div id="chosen_functions_div">
                        <h4> Chosen Functions</h4>
                        <select multiple id="chosen_functions_select" size="6">
                            <option value="bla" disabled>----------------------chosen functions-----------------</option>
                        </select>
                        <span><button id="remove_function_button" class=" fas-button" data-toggle="tooltip" data-placement="right" title="Remove functions/groups"><i class="far fa-trash-alt"></i></span></button>
                        <br>
                        <h6><span id="num_of_functions" class="badge badge-secondary">Total: 0 Functions</span></h6>
                    </div>
                    <div id="chosen_runs_div">
                        <div class="row col-12">
                            <h4 class="col-12"> Chosen Runs &nbsp;&nbsp;</h4>

                        </div>
                        <select multiple id="chosen_runs_select" size="6">
                            <option value="bla" disabled>-----------------------chosen runs---------------------</option>
                        </select>
                        <span><button id="remove_run_button" class="fas-button" data-toggle="tooltip" data-placement="right" title="Remove runs\lists"><i class="far fa-trash-alt"></i></button></span>
                        <br>
                        <div></div>
                        <div class="col-12 row">
                            <label for="list_name" class="form-label mt-2 ml-2">List Name:&nbsp;&nbsp;</label>
                            <input id="list_name" type="text" class="form-control mr-2 mb-2 col-6" placeholder="list name">
                            <button id="save_list_button" class="fas-button"><i class="far fa-save" data-toggle="tooltip" data-placement="right" title="save list"></i></button>
                        </div>
                        <h6><span id="num_of_runs" class="badge badge-secondary mt-2">Total: 0 Runs</span></h6>


                    </div>
                </div>
                <h4><span id="num_of_tests" class="badge badge-success">Total : 0 tests</span></h4>
            </div>
        </div>
    </div>
</div>
<br><br>
<div class="card">
    <div id="AnalyseMIssionHeader" class="card-header">
        <h2>Analyse Mission</h2>
        <h4><span class="badge badge-success" id="progress_text">75% Completed</span></h4>
        <div class="progress">
            <div id="progress_bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%">
            </div>
        </div>
        <div class="flex-container mt-2">
            <button id="collapse_analyse_button" class="collapse-button" data-toggle="collapse" data-target="#AnalyseContent"><i class="far fa-plus-square"></i></button>
            <h4>Mission Name</h4>
            <input list="mission_names_datalist" id="mission_name" type="text" class="form-control normal-margin col-2" value="Setup_Name123">
            <datalist id="mission_names_datalist"></datalist>
            <button id="display_mission" class="btn btn-outline-success" hidden="true">Display</button>
            <div id="statistics_div" class="row statistics-div col-5 normal-margin">
                20 functions on 10 runs : 140/200 completed
            </div>

            <button id="run_status" class="btn btn-primary normal-margin run-button">
                <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                &nbsp; Running...
            </button>
        </div>
    </div>


    <div id="AnalyseContent" class="collapse card-body">
        <div class="row">
            <h3>Analyse content</h3>
            <button id="export_to_excel_button" class="ml-4 fas-button" data-toggle="tooltip" data-placement="right" title="Export to excel"><i class="fas fa-table"></i></button>
        </div>
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <button id="results_tab" class="nav-link active"><i class="fas fa-table"></i>&nbsp;Results</button>
            </li>
            <li class="nav-item">
                <button id="statistics_tab" class="nav-link"><i class="fas fa-chart-pie"></i>&nbsp;Statistics</button>
            </li>
        </ul>
        <div class="">
            <div id="results_div" class="results_div">
                <table id="results_table" class="table table-striped table-bordered" style="width:100%">
                </table>
            </div>
            <div id="statistics_table_div" class="statistics" hidden="hidden">
                <canvas hidden="hidden" id="statistics_chart"></canvas>
            </div>
            <hr>
            <div id="drill_down_div">
                <h2 class="my-4">Results Drill Down</h2>
                <div class="row">
                    <div id="drill_down_meta" class="col-6">
                        <div class="card">
                            <div class="card-header">
                                <h2 id="drill_down_meta_header">
                                    Results for task id:
                                </h2>
                            </div>
                            <div class="card-body">
                                <div class="card text-dark bg-light mb-3">
                                    <div class="card-header">
                                        <h3>Test Results</h3>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <h4>Test Status :</h4>
                                            <h5 id="test_status">Success</h5>
                                        </div>
                                        <div class="row">
                                            <h4>Time Elapsed :</h4>
                                            <h5 id="time_elapsed">0.05sec</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card text-white bg-info mb-3">
                                    <div class="card-header">
                                        <h3>Function Data</h3>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <h4>Function Name :</h4>
                                            <h5 id="function_name">bbb_skajhdkj_3231_gggddg_wuyiwuy</h5>
                                        </div>
                                        <div class="row">
                                            <h4>State :</h4>
                                            <h5 id="function_state">InDev</h5>
                                        </div>
                                        <div class="row">
                                            <h4>Owner :</h4>
                                            <h5 id="function_owner">DvirH</h5>
                                        </div>
                                    </div>
                                </div>
                                <div class="card text-white bg-info mb-3">
                                    <div class="card-header">
                                        <h3>Run Data</h3>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <h4>DB :</h4>
                                            <h5 id="db_name">oracle 12121</h4>
                                        </div>
                                        <div class="row">
                                            <h4>Run ID :</h4>
                                            <h5 id="run_id">121212</h5>
                                        </div>
                                        <div class="row">
                                            <h4>Scenario :</h4>
                                            <h5 id="scenario_name">wow so cool</h5>
                                        </div>

                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                    <div class="col-6" id="drill_down_table_div" hidden="hidden">
                        <table id="drill_down_table" class="table table-striped table-bordered">

                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<br><br> {% endblock %} {%block scripts%}
<script src="../static/js/xlsx.full.min.js"></script>
<script src="../static/js/FileSaver.min.js"></script>
<script src="../static/js/AnalyseWorker.js"></script>
<script src="../static/js/ResultsArrayWorker.js"></script>
<script src="../static/js/ResultsMetaWorker.js"></script>
<script src="../static/js/new_analyse_tables.js"></script>
<script src="../static/js/new_analyse_setup.js"></script>
<script src="../static/js/new_analyse_display.js"></script>
<script src="../static/js/new_analyse_charts.js"></script>
{% endblock %}